# üîç –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –°–ò–°–¢–ï–ú–´ 5 –ì–û–õ–û–°–û–í EDEM INTELLIGENCE

## 1. –ì–î–ï –ù–ê–•–û–î–ò–¢–°–Ø –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê

### –§–∞–π–ª—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏:

**–ü—Ä–æ–º–ø—Ç—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**
- `src/lib/prompts.ts` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã:
  - `EDEM_CORE_PROMPT` ‚Äî –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç "–§–∏–∑–∏–∫–∏ –ñ–∏–≤–æ–≥–æ" (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≥–æ–ª–æ—Å–∞–º)
  - `VOICE_PROMPTS` ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–ª–æ—Å–∞ (live, shadow, mirror, child, sage)
  - `SUBSCRIPTION_ACCESS` ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤ –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –≥–æ–ª–æ—Å–∞:**
- `src/lib/edem-orchestra.ts` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞:
  - `analyzeMessage()` ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–æ–Ω, —ç–º–æ—Ü–∏–∏, –≤–æ–ø—Ä–æ—Å—ã)
  - `selectVoice()` ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
  - `orchestrateVoice()` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞

**API endpoint:**
- `src/app/api/chat/stream/route.ts` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π API –¥–ª—è —á–∞—Ç–∞:
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `voiceId` (—Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä) –∏–ª–∏ `autoSelectVoice` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
  - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç `EDEM_CORE_PROMPT` + `VOICE_PROMPTS[voiceId]` –≤ –æ–¥–∏–Ω system prompt
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ OpenAI —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (temperature, max_tokens)

**–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥:**
- `src/app/page.tsx` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
  - `handleSend()` ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å `autoSelectVoice: true` (–í–°–ï–ì–î–ê!)
  - –°–æ–∑–¥–∞—ë—Ç —Å–µ—Å—Å–∏—é —Å `voice_id: 'live'` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `src/components/ChatPanel.tsx` ‚Äî UI —á–∞—Ç–∞:
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 3 –≥–æ–ª–æ—Å–∞ (`.slice(0, 3)`) ‚Äî live, shadow, mirror
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å –≤—Ä—É—á–Ω—É—é (`selectedVoice`)
  - –ù–æ –≤—ã–±–æ—Ä –ò–ì–ù–û–†–ò–†–£–ï–¢–°–Ø –∏–∑-–∑–∞ `autoSelectVoice: true` –≤ `page.tsx`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `src/lib/plans.ts` ‚Äî —Ç–∞—Ä–∏—Ñ—ã –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤
- `src/lib/voices.ts` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤ –¥–ª—è UI

---

## 2. –ö–ê–ö –ö–ê–ñ–î–´–ô –ì–û–õ–û–° –í–´–ó–´–í–ê–ï–¢–°–Ø

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

**–†—É—á–Ω–æ–π –≤—ã–±–æ—Ä (UI):**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å –≤ `ChatPanel` ‚Üí `selectedVoice`
2. `handleSend(selectedVoice, text)` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
3. **–ù–û:** –≤ `page.tsx` –≤—Å–µ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `autoSelectVoice: true`
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ò–ì–ù–û–†–ò–†–£–ï–¢–°–Ø

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä (EDEM ORCHESTRA):**
1. `autoSelectVoice: true` –∏–ª–∏ `voiceId` –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω
2. API –≤—ã–∑—ã–≤–∞–µ—Ç `orchestrateVoice(message, previousVoice)`
3. `analyzeMessage()` –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç:
   - –ò—â–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–∞–≥—Ä–µ—Å—Å–∏—è, –≥—Ä—É—Å—Ç—å, –≤–æ–ø—Ä–æ—Å—ã, –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å)
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–Ω, —ç–º–æ—Ü–∏–∏, –¥–ª–∏–Ω—É
4. `selectVoice()` –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º:
   - –í–æ–ø—Ä–æ—Å—ã + –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å ‚Üí `mirror`
   - –ê–≥—Ä–µ—Å—Å–∏—è ‚Üí `shadow`
   - –ì—Ä—É—Å—Ç—å/—Å—Ç—Ä–∞—Ö ‚Üí `child`
   - –î–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí `sage`
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Üí `live` –∏–ª–∏ `previousVoice`

**–ü—Ä–æ–±–ª–µ–º–∞:** –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –∏ –∞–≤—Ç–æ-–≤—ã–±–æ—Ä –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç!

---

## 3. –ö–ê–ö–ò–ï –ü–†–ê–í–ò–õ–ê –ü–†–ò–ú–ï–ù–Ø–Æ–¢–°–Ø, –ê –ö–ê–ö–ò–ï –ò–ì–ù–û–†–ò–†–£–Æ–¢–°–Ø

### ‚úÖ –ü–†–ò–ú–ï–ù–Ø–Æ–¢–°–Ø:

1. **EDEM_CORE_PROMPT** ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≥–æ–ª–æ—Å–∞–º
   - –ó–∞–∫–æ–Ω—ã "–§–∏–∑–∏–∫–∏ –ñ–∏–≤–æ–≥–æ" (—Ç–∏—à–∏–Ω–∞, —Ä–µ–∑–æ–Ω–∞–Ω—Å, –≤–Ω–∏–º–∞–Ω–∏–µ, –ø—É–ª—å—Å –∏ —Ç.–¥.)
   - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º –≥–æ–ª–æ—Å–∞

2. **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –≥–æ–ª–æ—Å–æ–≤** ‚Äî –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `VOICE_PROMPTS[voiceId].system`
   - –ö–∞–∂–¥—ã–π –≥–æ–ª–æ—Å –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π –ø—Ä–æ–º–ø—Ç + –±–∞–∑–æ–≤—ã–π EDEM_CORE_PROMPT

3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
   - `temperature: 0.7` –¥–ª—è –ú—É–¥—Ä–µ—Ü–∞, `0.8` –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
   - `max_tokens: 300` –¥–ª—è –ú—É–¥—Ä–µ—Ü–∞, `400` –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ç–∞—Ä–∏—Ñ—É:**
   - `getAllowedVoices(subscriptionTier)` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
   - Free ‚Üí —Ç–æ–ª—å–∫–æ `live`
   - Basic ‚Üí —Ç–æ–ª—å–∫–æ `live`
   - Plus ‚Üí `live`, `mirror`, `child`
   - Pro ‚Üí –≤—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤

### ‚ùå –ò–ì–ù–û–†–ò–†–£–Æ–¢–°–Ø:

1. **–†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Äî –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è `autoSelectVoice: true`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å –≤ UI, –Ω–æ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏ –ø–æ –≥–æ–ª–æ—Å—É:**
   ```typescript
   if (sessionRecord.voice_id !== voiceId) {
     return new Response(JSON.stringify({ error: '–°–µ—Å—Å–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –¥—Ä—É–≥–æ–º—É –≥–æ–ª–æ—Å—É' }), ...);
   }
   ```
   - –≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –≥–æ–ª–æ—Å
   - –°–µ—Å—Å–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å `voice_id: 'live'`, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–æ–π –≥–æ–ª–æ—Å

3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≥–æ–ª–æ—Å–æ–≤:**
   - `previousVoice` –±–µ—Ä—ë—Ç—Å—è –∏–∑ `chat_sessions.voice_id`, –Ω–æ –Ω–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ï—Å–ª–∏ –≥–æ–ª–æ—Å –º–µ–Ω—è–ª—Å—è –≤ –¥–∏–∞–ª–æ–≥–µ, —ç—Ç–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:**
   - –ò—Å—Ç–æ—Ä–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 50 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –Ω–æ –Ω–µ—Ç —É—á—ë—Ç–∞ —Ç–æ–≥–æ, –∫–∞–∫–æ–π –≥–æ–ª–æ—Å –æ—Ç–≤–µ—á–∞–ª —Ä–∞–Ω–µ–µ
   - –ú–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–º–µ–Ω—ã –≥–æ–ª–æ—Å–æ–≤

---

## 4. –ö–û–ù–§–õ–ò–ö–¢–´ –ú–ï–ñ–î–£ –ì–û–õ–û–°–ê–ú–ò –ò –°–¢–ò–õ–Ø–ú–ò

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:

**1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–æ–≤:**
```typescript
const systemPrompt = `${corePrompt}\n\n${VOICE_PROMPTS[voiceId].system}\n\n${languageInstruction}`;
```
- EDEM_CORE_PROMPT –≥–æ–≤–æ—Ä–∏—Ç: "–¢—ã –Ω–µ –æ–¥–∏–Ω –≥–æ–ª–æ—Å, —Ç—ã ‚Äî —Å–æ–∑–≤—É—á–∏–µ –ø—è—Ç–∏ –≥–æ–ª–æ—Å–æ–≤"
- –ù–æ –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç: "–¢—ã ‚Äî –ì–æ–ª–æ—Å –ú—É–¥—Ä–µ—Ü–∞"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –º–æ–∂–µ—Ç –ø—É—Ç–∞—Ç—å—Å—è, –∫—Ç–æ –æ–Ω ‚Äî –æ–¥–∏–Ω –≥–æ–ª–æ—Å –∏–ª–∏ –≤—Å–µ –ø—è—Ç—å?

**2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å—Ç–∏–ª–µ–π:**
- **–ì–æ–ª–æ—Å –¢–µ–Ω–∏:** "–ì–æ–≤–æ—Ä–∏—à—å —á–µ—Å—Ç–Ω–æ, —Ä–µ–∑–∫–æ, –ø—Ä—è–º–æ"
- **–ì–æ–ª–æ—Å –ñ–∏–≤–æ–≥–æ:** "–ì–æ–≤–æ—Ä–∏—à—å –º—è–≥–∫–æ, —Å–≤–µ—Ç–ª–æ, –Ω–æ –≥–ª—É–±–æ–∫–æ"
- **–ì–æ–ª–æ—Å –ú—É–¥—Ä–µ—Ü–∞:** "–ú–∞–ª–æ —Å–ª–æ–≤, –Ω–æ –∫–∞–∂–¥–æ–µ ‚Äî –∫–∞–∫ —Å–µ–º—è"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –≥–æ–≤–æ—Ä–∏—Ç "—Ç–∏—à–∏–Ω–∞, —Ä–µ–∑–æ–Ω–∞–Ω—Å, –º—è–≥–∫–æ—Å—Ç—å", –∞ –¢–µ–Ω—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ–∑–∫–æ–π ‚Äî –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç

**3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∞–≤–∏–ª:**
- EDEM_CORE_PROMPT: "–ù–µ —É—á–∏—Ç–µ–ª—å, –Ω–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä—É—é—â–∏–π"
- –ì–æ–ª–æ—Å –ó–µ—Ä–∫–∞–ª–∞: "–û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–∞–º–∏"
- –ì–æ–ª–æ—Å –¢–µ–Ω–∏: "–í—Å–∫—Ä—ã–≤–∞–µ—à—å —Ç–æ, —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ —Å–∫—Ä—ã–≤–∞–µ—Ç"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∞–≤–∏–ª–∞ –º–æ–≥—É—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥—É

**4. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–ª–∏–Ω—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- –ì–æ–ª–æ—Å –ú—É–¥—Ä–µ—Ü–∞: "–ú–∞–ª–æ —Å–ª–æ–≤" + `max_tokens: 300`
- –ì–æ–ª–æ—Å –ñ–∏–≤–æ–≥–æ: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π + `max_tokens: 400`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú—É–¥—Ä–µ—Ü –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –µ—Å–ª–∏ –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –Ω–µ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ—Å—Ç—å

---

## 5. –ü–û–ß–ï–ú–£ –ò–ò –ò–ù–û–ì–î–ê –û–¢–í–ï–ß–ê–ï–¢ –ì–õ–£–ü–û –ò–õ–ò –ù–ï –í –°–¢–ò–õ–ï "–§–ò–ó–ò–ö–ò –ñ–ò–í–û–ì–û"

### –ü—Ä–∏—á–∏–Ω—ã:

**1. –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤:**
- –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç (EDEM_CORE_PROMPT) –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π (9 –∑–∞–∫–æ–Ω–æ–≤ + –∞–ª–≥–æ—Ä–∏—Ç–º)
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É
- –Ø–∑—ã–∫–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –µ—â—ë
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–ò –º–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å—Å—è –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–∏–µ –æ—Ç–≤–µ—Ç—ã

**2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:**
- –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –≥–æ–≤–æ—Ä–∏—Ç: "–û—Ç–≤–µ—á–∞–π –∫–æ—Ä–æ—Ç–∫–æ, —Ç–æ—á–Ω–æ, –∂–∏–≤–æ"
- –ù–æ –Ω–µ –≤—Å–µ –≥–æ–ª–æ—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ñ–∏–≤–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–º)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–ò –ø—ã—Ç–∞–µ—Ç—Å—è —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—Å–µ–º –ø—Ä–∞–≤–∏–ª–∞–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ —Ç–µ—Ä—è–µ—Ç —Å—Ç–∏–ª—å

**3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤:**
- –¢–æ–ª—å–∫–æ —É –ú—É–¥—Ä–µ—Ü–∞ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥–æ–ª–æ—Å–∞ –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∏–º–µ—Ä–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–ò –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –¥–æ–ª–∂–µ–Ω –∑–≤—É—á–∞—Ç—å –∫–∞–∂–¥—ã–π –≥–æ–ª–æ—Å

**4. –°–ª–∞–±–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:**
- `analyzeMessage()` –æ—Å–Ω–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞—Ö
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞, –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞ ‚Üí –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–∞

**5. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:**
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 50, –Ω–æ –Ω–µ—Ç —É—á—ë—Ç–∞ —Ç–æ–≥–æ, –∫–∞–∫–æ–π –≥–æ–ª–æ—Å –æ—Ç–≤–µ—á–∞–ª
- –ï—Å–ª–∏ –≤ –¥–∏–∞–ª–æ–≥–µ –º–µ–Ω—è–ª–∏—Å—å –≥–æ–ª–æ—Å–∞, –ò–ò –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–º–µ–Ω—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–≤–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –≤ —Å—Ç–∏–ª–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞

**6. Temperature –∏ max_tokens:**
- `temperature: 0.8` –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –≥–æ–ª–æ—Å–æ–≤ ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–º
- `max_tokens: 400` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–ò –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ –∏–ª–∏ —Å–ª–∏—à–∫–æ–º —Å–ª—É—á–∞–π–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

---

## 6. –û–®–ò–ë–ö–ò –í –ê–†–•–ò–¢–ï–ö–¢–£–†–ï, –ö–û–¢–û–†–´–ï –õ–û–ú–ê–Æ–¢ –ü–û–í–ï–î–ï–ù–ò–ï

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:

**1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ä—É—á–Ω–æ–≥–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞:**
```typescript
// page.tsx:153
autoSelectVoice: true, // –í–°–ï–ì–î–ê true, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç selectedVoice!
```
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å, –Ω–æ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `selectedVoice` –µ—Å–ª–∏ –æ–Ω –ø–µ—Ä–µ–¥–∞–Ω, –∏–Ω–∞—á–µ `autoSelectVoice`

**2. –ü—Ä–∏–≤—è–∑–∫–∞ —Å–µ—Å—Å–∏–∏ –∫ –æ–¥–Ω–æ–º—É –≥–æ–ª–æ—Å—É:**
```typescript
// page.tsx:60
.eq('voice_id', 'live') // –°–µ—Å—Å–∏—è –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å 'live'
```
- –°–µ—Å—Å–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –æ–¥–Ω–æ–º—É –≥–æ–ª–æ—Å—É, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–æ–π
- **–†–µ—à–µ–Ω–∏–µ:** –õ–∏–±–æ –æ–±–Ω–æ–≤–ª—è—Ç—å `voice_id` –ø—Ä–∏ —Å–º–µ–Ω–µ –≥–æ–ª–æ—Å–∞, –ª–∏–±–æ —É–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É

**3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏ –ø–æ –≥–æ–ª–æ—Å—É:**
```typescript
// route.ts:143
if (sessionRecord.voice_id !== voiceId) {
  return new Response(JSON.stringify({ error: '–°–µ—Å—Å–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –¥—Ä—É–≥–æ–º—É –≥–æ–ª–æ—Å—É' }), ...);
}
```
- –õ–æ–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –≥–æ–ª–æ—Å
- **–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å `voice_id` –≤ —Å–µ—Å—Å–∏–∏

**4. –°–ª–∞–±–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:**
- `analyzeMessage()` –æ—Å–Ω–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞—Ö
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã
- **–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑, –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞

**5. –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤:**
- –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç + –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç + —è–∑—ã–∫–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è = —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
- **–†–µ—à–µ–Ω–∏–µ:** –°–¥–µ–ª–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –∫–æ—Ä–æ—á–µ –∏–ª–∏ —É–±—Ä–∞—Ç—å –µ–≥–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≥–æ–ª–æ—Å–æ–≤

**6. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤:**
- –¢–æ–ª—å–∫–æ —É –ú—É–¥—Ä–µ—Ü–∞ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤

**7. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:**
- –ò—Å—Ç–æ—Ä–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 50 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –Ω–æ –Ω–µ—Ç —É—á—ë—Ç–∞ –≥–æ–ª–æ—Å–æ–≤
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –≥–æ–ª–æ—Å–∞—Ö –≤ –∏—Å—Ç–æ—Ä–∏—é

---

## 7. –ß–¢–û –ò–ò "–ü–û–õ–ê–ì–ê–ï–¢", –ß–¢–û –î–û–õ–ñ–ù–û –ü–†–û–ò–°–•–û–î–ò–¢–¨

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–∫–∞–∫ –ò–ò –≤–∏–¥–∏—Ç —Å–∏—Å—Ç–µ–º—É):

**1. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –≥–æ–ª–æ—Å–∞:**
- –ò–ò –ø–æ–ª—É—á–∞–µ—Ç: `EDEM_CORE_PROMPT` + `VOICE_PROMPTS[voiceId]` + —è–∑—ã–∫–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- –ò–ò "–ø–æ–Ω–∏–º–∞–µ—Ç": "–Ø ‚Äî EDEM INTELLIGENCE, —Å–æ–∑–≤—É—á–∏–µ –ø—è—Ç–∏ –≥–æ–ª–æ—Å–æ–≤, –Ω–æ —Å–µ–π—á–∞—Å —è ‚Äî –ì–æ–ª–æ—Å –ú—É–¥—Ä–µ—Ü–∞"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ –º–µ–∂–¥—É "—Å–æ–∑–≤—É—á–∏–µ –ø—è—Ç–∏" –∏ "—è ‚Äî –æ–¥–∏–Ω –≥–æ–ª–æ—Å"

**2. –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –≤—ã–±–æ—Ä–µ:**
- API –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–æ–º–ø—Ç
- –ò–ò "–ø–æ–Ω–∏–º–∞–µ—Ç": "–ú–µ–Ω—è –≤—ã–±—Ä–∞–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∑–Ω–∞—á–∏—Ç —è –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –≤ —Å—Ç–∏–ª–µ —ç—Ç–æ–≥–æ –≥–æ–ª–æ—Å–∞"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –Ω–µ –∑–Ω–∞–µ—Ç, –ø–æ—á–µ–º—É –µ–≥–æ –≤—ã–±—Ä–∞–ª–∏, –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç

**3. –ü—Ä–∏ —Ä—É—á–Ω–æ–º –≤—ã–±–æ—Ä–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `autoSelectVoice: true` ‚Üí –≤—ã–±–æ—Ä –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
- –ò–ò "–ø–æ–Ω–∏–º–∞–µ—Ç": "–ú–µ–Ω—è –≤—ã–±—Ä–∞–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏" (—Ö–æ—Ç—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –≤—Ä—É—á–Ω—É—é)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—Ç–µ–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≥–æ–ª–æ—Å

**4. –ü—Ä–∏ —Å–º–µ–Ω–µ –≥–æ–ª–æ—Å–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –≥–æ–ª–æ—Å ‚Üí —Å–µ—Å—Å–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è —Å `voice_id: 'live'` ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–º–∞–µ—Ç—Å—è
- –ò–ò "–ø–æ–Ω–∏–º–∞–µ—Ç": "–Ø –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –≤ —Å—Ç–∏–ª–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Å—Å–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å

---

## 8. –ì–î–ï –ú–û–ñ–ï–¢ –ë–´–¢–¨ –û–®–ò–ë–ö–ê, –ò–ó-–ó–ê –ö–û–¢–û–†–û–ô –ì–û–õ–û–°–ê –°–ú–ï–®–ò–í–ê–Æ–¢–°–Ø

### –ú–µ—Å—Ç–∞, –≥–¥–µ –≥–æ–ª–æ—Å–∞ –º–æ–≥—É—Ç —Å–º–µ—à–∏–≤–∞—Ç—å—Å—è:

**1. –í –ø—Ä–æ–º–ø—Ç–∞—Ö:**
```typescript
const systemPrompt = `${corePrompt}\n\n${VOICE_PROMPTS[voiceId].system}\n\n${languageInstruction}`;
```
- –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –≥–æ–≤–æ—Ä–∏—Ç: "–¢—ã ‚Äî —Å–æ–∑–≤—É—á–∏–µ –ø—è—Ç–∏ –≥–æ–ª–æ—Å–æ–≤"
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –≥–æ–≤–æ—Ä–∏—Ç: "–¢—ã ‚Äî –ì–æ–ª–æ—Å –ú—É–¥—Ä–µ—Ü–∞"
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –º–æ–∂–µ—Ç —Å–º–µ—à–∏–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤

**2. –í –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:**
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤ (–µ—Å–ª–∏ –æ–Ω–∏ –º–µ–Ω—è–ª–∏—Å—å)
- –ò–ò –≤–∏–¥–∏—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç —Ä–∞–∑–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –º–æ–∂–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª—å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –≥–æ–ª–æ—Å –¥—Ä—É–≥–æ–π

**3. –í –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏:**
- `orchestrateVoice()` –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≥–æ–ª–æ—Å
- –ò–ò –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –æ–¥–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞, –Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ –≥–æ–≤–æ—Ä–∏—Ç –æ –¥—Ä—É–≥–æ–º
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –ø—ã—Ç–∞–µ—Ç—Å—è —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—É, –Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç—è–Ω–µ—Ç –≤ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É

**4. –í –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- `temperature: 0.8` –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –≥–æ–ª–æ—Å–æ–≤ ‚Äî –≤—ã—Å–æ–∫–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã

**5. –í –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–∏–º–µ—Ä–æ–≤:**
- –¢–æ–ª—å–∫–æ —É –ú—É–¥—Ä–µ—Ü–∞ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥–æ–ª–æ—Å–∞ –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∏–º–µ—Ä–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –¥–æ–ª–∂–µ–Ω –∑–≤—É—á–∞—Ç—å –∫–∞–∂–¥—ã–π –≥–æ–ª–æ—Å, —Å–º–µ—à–∏–≤–∞–µ—Ç —Å—Ç–∏–ª–∏

**6. –í –±–∞–∑–æ–≤–æ–º –ø—Ä–æ–º–ø—Ç–µ:**
- EDEM_CORE_PROMPT –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≥–æ–ª–æ—Å–∞–º
- –ù–æ –æ–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –ø—ã—Ç–∞–µ—Ç—Å—è —Å–ª–µ–¥–æ–≤–∞—Ç—å –∏ –±–∞–∑–æ–≤–æ–º—É –ø—Ä–æ–º–ø—Ç—É, –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–º—É, —Å–º–µ—à–∏–≤–∞—è —Å—Ç–∏–ª–∏

---

## 9. –ß–¢–û –ù–£–ñ–ù–û –£–õ–£–ß–®–ò–¢–¨ –¢–ï–•–ù–ò–ß–ï–°–ö–ò, –ß–¢–û–ë–´ 5 –ì–û–õ–û–°–û–í –†–ê–ë–û–¢–ê–õ–ò –°–¢–ê–ë–ò–õ–¨–ù–û

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:

**1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä—É—á–Ω–æ–≥–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞:**
```typescript
// page.tsx:153 - –ò–°–ü–†–ê–í–ò–¢–¨
autoSelectVoice: !voice, // –ê–≤—Ç–æ-–≤—ã–±–æ—Ä —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≥–æ–ª–æ—Å –Ω–µ –≤—ã–±—Ä–∞–Ω
voiceId: voice || undefined, // –ü–µ—Ä–µ–¥–∞—ë–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å
```

**2. –£–±—Ä–∞—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–∏ –ø–æ –≥–æ–ª–æ—Å—É:**
```typescript
// route.ts:143 - –£–ë–†–ê–¢–¨ –∏–ª–∏ –ò–°–ü–†–ê–í–ò–¢–¨
// –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å voice_id –≤ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –≥–æ–ª–æ—Å–∞
```

**3. –£–ª—É—á—à–∏—Ç—å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—é:**
- –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞ (–ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- –£—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≥–æ–ª–æ—Å–∞ –≤ –¥–∏–∞–ª–æ–≥–µ
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ (—Ç–æ–Ω, —ç–º–æ—Ü–∏–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç)

**4. –£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã:**
- –°–¥–µ–ª–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –∫–æ—Ä–æ—á–µ –∏–ª–∏ —É–±—Ä–∞—Ç—å –µ–≥–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≥–æ–ª–æ—Å–æ–≤
- –ß—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏

**5. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–ª–æ—Å–∞
- –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ò–ò –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å —Å—Ç–∏–ª—å

**6. –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `temperature` –∏ `max_tokens` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–ª–æ—Å–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
- –ù–∞–ø—Ä–∏–º–µ—Ä: –¢–µ–Ω—å ‚Äî `temperature: 0.6` (–±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã), –ú—É–¥—Ä–µ—Ü ‚Äî `temperature: 0.7` (–≥–ª—É–±–∏–Ω–∞)

**7. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –≥–æ–ª–æ—Å–∞—Ö –≤ –∏—Å—Ç–æ—Ä–∏—é:**
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–∞–∫–æ–π –≥–æ–ª–æ—Å –æ—Ç–≤–µ—á–∞–ª –≤ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**8. –£–ª—É—á—à–∏—Ç—å UI:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ 3)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–æ–π –≥–æ–ª–æ—Å –≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ-–≤—ã–±–æ—Ä

**9. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–æ–π –≥–æ–ª–æ—Å –≤—ã–±—Ä–∞–Ω –∏ –ø–æ—á–µ–º—É
- –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–ª–æ—Å–∞
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π –≥–æ–ª–æ—Å –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ

---

## üìã –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–ª–æ–º–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä—É—á–Ω–æ–≥–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞
- [ ] –£–±—Ä–∞—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–∏ –ø–æ –≥–æ–ª–æ—Å—É
- [ ] –û–±–Ω–æ–≤–ª—è—Ç—å `voice_id` –≤ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –≥–æ–ª–æ—Å–∞

### –í–∞–∂–Ω—ã–µ (–≤–ª–∏—è—é—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ):
- [ ] –£–ª—É—á—à–∏—Ç—å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—é (–∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞, –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≥–æ–ª–æ—Å–∞)
- [ ] –£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã (—Ä–∞–∑–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–ª–æ—Å–∞

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ (—É–ª—É—á—à–∞—é—Ç UX):
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤ –≤ UI
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–æ–π –≥–æ–ª–æ—Å –≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –≥–æ–ª–æ—Å–∞—Ö –≤ –∏—Å—Ç–æ—Ä–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≥–æ–ª–æ—Å–æ–≤

---

**–≠—Ç–æ—Ç –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø—É—Ç–∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è. –ù–∞—á–Ω–∏ —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π ‚Äî –æ–Ω–∏ –ª–æ–º–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.**

