# ‚úÖ –û–†–ö–ï–°–¢–†–ê–¢–û–† –£–ë–†–ê–ù ‚Äî –°–ò–°–¢–ï–ú–ê –í–ï–†–ù–£–¢–ê –ö –¢–ó

## üéØ –ß–¢–û –°–î–ï–õ–ê–ù–û

**–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ù–ï –±—ã–ª –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –¢–ó.**
**–í –¢–ó –±—ã–ª —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞.**

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –£–±—Ä–∞–Ω `autoSelectVoice` –∏–∑ `page.tsx`

**–ë—ã–ª–æ:**
```typescript
autoSelectVoice: true, // –í–°–ï–ì–î–ê true!
```

**–°—Ç–∞–ª–æ:**
```typescript
voiceId: voice, // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≥–æ–ª–æ—Å
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

### 2. –£–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏–∑ API

**–ë—ã–ª–æ:**
```typescript
// EDEM ORCHESTRA: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω
if (autoSelectVoice || !requestedVoiceId) {
  voiceId = orchestrateVoice(message, previousVoice);
}
```

**–°—Ç–∞–ª–æ:**
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≥–æ–ª–æ—Å –∏–ª–∏ 'live' –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const voiceId: VoiceId = requestedVoiceId || 'live';
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å.

---

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏ –ø–æ –≥–æ–ª–æ—Å—É

**–ë—ã–ª–æ:**
```typescript
if (sessionRecord.voice_id !== voiceId) {
  return new Response(JSON.stringify({ error: '–°–µ—Å—Å–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –¥—Ä—É–≥–æ–º—É –≥–æ–ª–æ—Å—É' }), ...);
}
```

**–°—Ç–∞–ª–æ:**
```typescript
// –û–±–Ω–æ–≤–ª—è–µ–º voice_id –≤ —Å–µ—Å—Å–∏–∏, –µ—Å–ª–∏ –≥–æ–ª–æ—Å –∏–∑–º–µ–Ω–∏–ª—Å—è
if (sessionRecord.voice_id !== voiceId) {
  await supabase
    .from('chat_sessions')
    .update({ voice_id: voiceId })
    .eq('id', sessionId);
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –≥–æ–ª–æ—Å –±–µ–∑ –æ—à–∏–±–æ–∫.

---

### 4. –û–±–Ω–æ–≤–ª—ë–Ω UI: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤

**–ë—ã–ª–æ:**
```typescript
{VOICE_DEFINITIONS.slice(0, 3).map((voice) => ( // –¢–æ–ª—å–∫–æ 3 –≥–æ–ª–æ—Å–∞!
```

**–°—Ç–∞–ª–æ:**
```typescript
{VOICE_DEFINITIONS.map((voice) => ( // –í—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞.

---

### 5. –£–±—Ä–∞–Ω –∏–º–ø–æ—Ä—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–ë—ã–ª–æ:**
```typescript
import { orchestrateVoice } from '@/lib/edem-orchestra';
```

**–°—Ç–∞–ª–æ:**
```typescript
// –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —É–±—Ä–∞–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥ –æ—á–∏—â–µ–Ω –æ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ª–æ–≥–∏–∫–∏.

---

## üìã –ò–¢–û–ì–û–í–û–ï –°–û–°–¢–û–Ø–ù–ò–ï

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ–ª–æ—Å ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å
2. **–í—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤ –≤ UI** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞
3. **–°–º–µ–Ω–∞ –≥–æ–ª–æ—Å–∞** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –≥–æ–ª–æ—Å –±–µ–∑ –æ—à–∏–±–æ–∫
4. **–ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞** ‚Äî –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É —Ä—É—á–Ω—ã–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º
5. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –±—ã–ª–æ –∑–∞–¥—É–º–∞–Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –¢–ó

### ‚ùå –ß—Ç–æ —É–±—Ä–∞–Ω–æ:

1. **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞ —É–±—Ä–∞–Ω
2. **`autoSelectVoice`** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä —É–±—Ä–∞–Ω –∏–∑ API
3. **–õ–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Äî —É–±—Ä–∞–Ω–∞ –∏–∑ API (–æ—Å—Ç–∞–ª–∞—Å—å –≤ `edem-orchestra.ts`, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –í—ã–±—Ä–∞—Ç—å –≥–æ–ª–æ—Å –≤ UI ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å
   - –°–º–µ–Ω–∏—Ç—å –≥–æ–ª–æ—Å ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤

2. **–ó–∞–¥–µ–ø–ª–æ–∏—Ç—å:**
   - `git add -A && git commit -m "Fix: Remove orchestra, use manual voice selection" && git push`
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:**
   - –û—Ç–∫—Ä—ã—Ç—å https://chatedem.com
   - –í—ã–±—Ä–∞—Ç—å –≥–æ–ª–æ—Å ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å

---

## üìä –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

1. `src/app/page.tsx` ‚Äî —É–±—Ä–∞–Ω `autoSelectVoice: true`
2. `src/app/api/chat/stream/route.ts` ‚Äî —É–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
3. `src/components/ChatPanel.tsx` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ 5 –≥–æ–ª–æ—Å–æ–≤

---

**–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–Ω—É—Ç–∞ –∫ —Ä–∞–±–æ—á–µ–º—É MVP —Å–æ—Å—Ç–æ—è–Ω–∏—é, –∫–∞–∫ –±—ã–ª–æ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –¢–ó! ‚úÖ**

