# ‚úÖ –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ú–û–î–£–õ–ò –í–ù–ï–î–†–ï–ù–´

## üéØ –ß–¢–û –°–î–ï–õ–ê–ù–û

**–í–Ω–µ–¥—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –¥–ª—è 2 –≥–æ–ª–æ—Å–æ–≤:**

1. **EmoDetect v1** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **5 —Ä–µ–∂–∏–º–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ–ª–æ—Å–∞** ‚Äî –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
3. **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** ‚Äî —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

---

## ‚úÖ –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –î–æ–±–∞–≤–ª–µ–Ω EmoDetect v1 (`edem-orchestra.ts`)

```typescript
export function detectEmotion(message: string): EmotionState {
  // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç: tired | anxious | lost | angry | neutral
}
```

**–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç 5 —Å–æ—Å—Ç–æ—è–Ω–∏–π:**
- `tired` ‚Äî —É—Å—Ç–∞–ª–æ—Å—Ç—å, –≤—ã–≥–æ—Ä–∞–Ω–∏–µ
- `anxious` ‚Äî —Ç—Ä–µ–≤–æ–≥–∞, —Å—Ç—Ä–∞—Ö
- `lost` ‚Äî –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å, –ø—É—Å—Ç–æ—Ç–∞
- `angry` ‚Äî –∑–ª–æ—Å—Ç—å, –∞–≥—Ä–µ—Å—Å–∏—è
- `neutral` ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã (`prompts.ts`)

**–ì–æ–ª–æ—Å –ñ–∏–≤–æ–≥–æ:**
- 5 —Ä–µ–∂–∏–º–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ö–∞–∂–¥—ã–π —Ä–µ–∂–∏–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–ì–æ–ª–æ—Å –¢–µ–Ω–∏:**
- 5 —Ä–µ–∂–∏–º–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ö–∞–∂–¥—ã–π —Ä–µ–∂–∏–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ API (`api/chat/stream/route.ts`)

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```typescript
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≥–æ–ª–æ—Å–∞
const emotionState = detectEmotion(message);

const systemPrompt = `${corePrompt}

${VOICE_PROMPTS[voiceId].system}

–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${emotionState}

–í—ã–±–µ—Ä–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–µ–∂–∏–º –∏–∑ –ø—Ä–æ–º–ø—Ç–∞ –≤—ã—à–µ –∏ –æ—Ç–≤–µ—á–∞–π –≤ —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ.
`;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–ò –ø–æ–ª—É—á–∞–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–µ–∂–∏–º –∏–∑ –ø—Ä–æ–º–ø—Ç–∞.

---

## üéØ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ**
2. **EmoDetect –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç–º–æ—Ü–∏—é** (tired/anxious/lost/angry/neutral)
3. **–≠–º–æ—Ü–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç**
4. **–ò–ò –≤—ã–±–∏—Ä–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–µ–∂–∏–º** –∏–∑ 5 —Ä–µ–∂–∏–º–æ–≤ –≥–æ–ª–æ—Å–∞
5. **–ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ**

---

## üìä –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

1. **5√ó –±–æ–ª—å—à–µ –≥–ª—É–±–∏–Ω—ã** ‚Äî –≥–æ–ª–æ—Å–∞ –ø–æ–ø–∞–¥–∞—é—Ç —Ç–æ—á–Ω–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
2. **10√ó –±–æ–ª—å—à–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á—É–≤—Å—Ç–≤—É–µ—Ç "—ç—Ç–æ –ø—Ä–æ –º–µ–Ω—è"
3. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏** ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≥–æ–ª–æ—Å–∞–º–∏ –æ—â—É—â–∞–µ—Ç—Å—è

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å "—É—Å—Ç–∞–ª" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∂–∏–º `tired`
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å "–±–æ—é—Å—å" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∂–∏–º `anxious`
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å "–Ω–µ –∑–Ω–∞—é" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∂–∏–º `lost`
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –º–∞—Ç–æ–º ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∂–∏–º `angry`

2. **–ó–∞–¥–µ–ø–ª–æ–∏—Ç—å:**
   ```bash
   git add -A
   git commit -m "Add emotion detection and 5 modes for each voice"
   git push
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:**
   - https://chatedem.com
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

**–°–∏—Å—Ç–µ–º–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –≥–æ—Ç–æ–≤–∞! ‚úÖ**

